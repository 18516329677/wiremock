
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Extending WireMock | WireMock</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css"/>
    <link rel="stylesheet" href="_static/yammerdoc.css" type="text/css"/>
    <link rel="top" title="WireMock" href="index.html"/>
    <link rel="prev" title="Simulating Faults" href="simulating-faults.html"/>
    <style lang="text/css">
        #top-bar, #top-bar small, #top-bar a {
            text-shadow: 0px 0px 0px #8CA8BB;
            color: #333;
        }
        
        #top-bar {
            background-color: #363F45;
            background-image: -moz-linear-gradient(top, #CCC, #8CA8BB);
            background-image: -ms-linear-gradient(top, #CCC, #8CA8BB);
            background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#CCC), to(#8CA8BB));
            background-image: -webkit-linear-gradient(top, #CCC, #8CA8BB);
            background-image: -o-linear-gradient(top, #CCC, #8CA8BB);
            background-image: linear-gradient(top, #CCC, #8CA8BB);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr = '#CCC', endColorstr = '#8CA8BB', GradientType = 0);
            -webkit-border-radius: 0;
            -moz-border-radius: 0;
            border-radius: 0;
        }


        .hero-unit {
            background-image: url("_static/logo.png") !important;
            background-repeat: no-repeat !important;
            background-position: 30px 50px;
        }

        .hero-unit div.section {
            padding-left: 150px !important;
        }
    </style>

    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36386229-2']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>
</head>
<body>
    <a href="https://github.com/tomakehurst/wiremock">
        <img style="position: absolute; top: 0; right: 0; border: 0;"
             src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
             alt="Fork me on GitHub"></a>
    <div class="navbar">
        <div class="navbar-inner container-fluid" id="top-bar">
            <header class="row-fluid">
                <h1 class="span12" id="title">
                    <a href="index.html">WireMock</a>
                    <small>A web service test double for all occasions</small>
                </h1>
            </header>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row-fluid">
            <div class="span3" id="sidebar">
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-standalone.html">Running as a Standalone Process</a></li>
<li class="toctree-l1"><a class="reference internal" href="https.html">HTTPS</a></li>
<li class="toctree-l1"><a class="reference internal" href="junit-rule.html">The JUnit 4.x Rule</a></li>
<li class="toctree-l1"><a class="reference internal" href="java-usage.html">Java (Non-JUnit) Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stubbing.html">Stubbing</a></li>
<li class="toctree-l1"><a class="reference internal" href="verifying.html">Verifying</a></li>
<li class="toctree-l1"><a class="reference internal" href="proxying.html">Proxying</a></li>
<li class="toctree-l1"><a class="reference internal" href="record-playback.html">Record and Playback</a></li>
<li class="toctree-l1"><a class="reference internal" href="stateful-behaviour.html">Stateful Behaviour</a></li>
<li class="toctree-l1"><a class="reference internal" href="simulating-faults.html">Simulating Faults</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Extending WireMock</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#registering-extensions">Registering Extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#transforming-responses">Transforming Responses</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#response-definition-transformation">Response definition transformation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supplying-parameters">Supplying parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#non-global-transformations">Non-global transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#response-transformation">Response transformation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-request-matchers">Custom Request Matchers</a></li>
</ul>
</li>
</ul>

                <hr/>
                <ul>
                    <li><a href="https://groups.google.com/forum/#!forum/wiremock-user">Mailing List</a><img style="margin-left: 0.5em; margin-bottom: -6px" src="_static/new.png"/></li>
                </ul>
            </div>
            <div class="span9" id="body">
                
  <div class="section" id="extending-wiremock">
<span id="id1"></span><h1>Extending WireMock<a class="headerlink" href="#extending-wiremock" title="Permalink to this headline">¶</a></h1>
<div class="section" id="registering-extensions">
<h2>Registering Extensions<a class="headerlink" href="#registering-extensions" title="Permalink to this headline">¶</a></h2>
<p>You can register the extension programmatically via its class name, class or an instance:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="k">new</span> <span class="nf">WireMockServer</span><span class="o">(</span><span class="n">wireMockConfig</span><span class="o">().</span><span class="na">extensions</span><span class="o">(</span><span class="s">&quot;com.mycorp.BodyContentTransformer&quot;</span><span class="o">,</span> <span class="s">&quot;com.mycorp.HeaderMangler&quot;</span><span class="o">));</span>

<span class="k">new</span> <span class="nf">WireMockServer</span><span class="o">(</span><span class="n">wireMockConfig</span><span class="o">().</span><span class="na">extensions</span><span class="o">(</span><span class="n">BodyContentTransformer</span><span class="o">.</span><span class="na">class</span><span class="o">,</span> <span class="n">HeaderMangler</span><span class="o">.</span><span class="na">class</span><span class="o">));</span>

<span class="k">new</span> <span class="nf">WireMockServer</span><span class="o">(</span><span class="n">wireMockConfig</span><span class="o">().</span><span class="na">extensions</span><span class="o">(</span><span class="k">new</span> <span class="n">BodyContentTransformer</span><span class="o">(),</span> <span class="k">new</span> <span class="n">HeaderMangler</span><span class="o">()));</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="running-standalone.html#running-standalone"><em>Running as a Standalone Process</em></a> for details on running with extensions from the command line.</p>
</div>
<div class="section" id="transforming-responses">
<h2>Transforming Responses<a class="headerlink" href="#transforming-responses" title="Permalink to this headline">¶</a></h2>
<p>Sometimes, returning wholly static responses to stub requests isn&#8217;t practical e.g. when there are transaction IDs being passed
between request/responses, dates that must be current. Via WireMock&#8217;s extension mechanism it is possible to dynamically modify
responses, allowing header re-writing and templated responses amongst other things.</p>
<p>There are two ways to dynamically transform output from WireMock. WireMock stub mappings consist in part of a <tt class="docutils literal"><span class="pre">ResponseDefinition</span></tt>.
This is essentially a description that WireMock (sometimes) combines with other information when producing the final response.
A basic <tt class="docutils literal"><span class="pre">ResponseDefinition</span></tt> closely resembles an actual response in that it has status, headers and body fields, but it can
also indicate to WireMock that the actual response should be the result of a proxy request to another system or a fault of some kind.</p>
<p><tt class="docutils literal"><span class="pre">ResponseDefinition</span></tt> objects are &#8220;rendered&#8221; by WireMock into a <tt class="docutils literal"><span class="pre">Response</span></tt>, and it is possible to interject either before or after
this process when writing an extension, meaning you can either transform the <tt class="docutils literal"><span class="pre">ResponseDefinition</span></tt> prior to rendering, or
the rendered <tt class="docutils literal"><span class="pre">Response</span></tt> afterwards.</p>
<div class="section" id="parameters">
<h3>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h3>
<p>Transformer extensions can have parameters passed to them on a per-stub basis via a <tt class="docutils literal"><span class="pre">Parameters</span></tt> object passed to their
primary method. <tt class="docutils literal"><span class="pre">Parameters</span></tt> derives from Java&#8217;s <tt class="docutils literal"><span class="pre">Map</span></tt> and can be therefore arbitrarily deeply nested. Only types compatible
with JSON (strings, numbers, booleans, maps and lists) can be used.</p>
</div>
<div class="section" id="response-definition-transformation">
<h3>Response definition transformation<a class="headerlink" href="#response-definition-transformation" title="Permalink to this headline">¶</a></h3>
<p>To transform <tt class="docutils literal"><span class="pre">ResponseDefinition</span></tt>, extend the <tt class="docutils literal"><span class="pre">ResponseDefinitionTransformer</span></tt> class:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ExampleTransformer</span> <span class="kd">extends</span> <span class="n">ResponseDefinitionTransformer</span> <span class="o">{</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">ResponseDefinition</span> <span class="nf">transform</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">ResponseDefinition</span> <span class="n">responseDefinition</span><span class="o">,</span> <span class="n">FileSource</span> <span class="n">files</span><span class="o">,</span> <span class="n">Parameters</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">ResponseDefinitionBuilder</span><span class="o">()</span>
                    <span class="o">.</span><span class="na">withHeader</span><span class="o">(</span><span class="s">&quot;MyHeader&quot;</span><span class="o">,</span> <span class="s">&quot;Transformed&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">withStatus</span><span class="o">(</span><span class="mi">200</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">withBody</span><span class="o">(</span><span class="s">&quot;Transformed body&quot;</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">name</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">&quot;example&quot;</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
</div>
<p>Transformer classes must have a no-args constructor unless you only intend to register them via an instance
as described below.</p>
</div>
<div class="section" id="supplying-parameters">
<h3>Supplying parameters<a class="headerlink" href="#supplying-parameters" title="Permalink to this headline">¶</a></h3>
<p>Parameters are supplied on a per stub mapping basis:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">stubFor</span><span class="o">(</span><span class="n">get</span><span class="o">(</span><span class="n">urlEqualTo</span><span class="o">(</span><span class="s">&quot;/transform&quot;</span><span class="o">)).</span><span class="na">willReturn</span><span class="o">(</span>
        <span class="n">aResponse</span><span class="o">()</span>
                <span class="o">.</span><span class="na">withTransformerParameter</span><span class="o">(</span><span class="s">&quot;newValue&quot;</span><span class="o">,</span> <span class="mi">66</span><span class="o">)</span>
                <span class="o">.</span><span class="na">withTransformerParameter</span><span class="o">(</span><span class="s">&quot;inner&quot;</span><span class="o">,</span> <span class="n">ImmutableMap</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;thing&quot;</span><span class="o">,</span> <span class="s">&quot;value&quot;</span><span class="o">))));</span> <span class="c1">// ImmutableMap is from Guava, but any Map will do</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;request&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;url&quot;</span> <span class="o">:</span> <span class="s2">&quot;/transform&quot;</span><span class="p">,</span>
        <span class="s2">&quot;method&quot;</span> <span class="o">:</span> <span class="s2">&quot;GET&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;response&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;status&quot;</span> <span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="s2">&quot;transformerParameters&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;newValue&quot;</span> <span class="o">:</span> <span class="mi">66</span><span class="p">,</span>
            <span class="s2">&quot;inner&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;thing&quot;</span> <span class="o">:</span> <span class="s2">&quot;value&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="non-global-transformations">
<h3>Non-global transformations<a class="headerlink" href="#non-global-transformations" title="Permalink to this headline">¶</a></h3>
<p>By default transformations will be applied globally. If you only want them to apply in certain cases you can refer to
make them non-global by adding this to your transformer class:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">applyGlobally</span><span class="o">()</span> <span class="o">{</span>
    <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Then you add the transformation to specific stubs via its name:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">stubFor</span><span class="o">(</span><span class="n">get</span><span class="o">(</span><span class="n">urlEqualTo</span><span class="o">(</span><span class="s">&quot;/local-transform&quot;</span><span class="o">)).</span><span class="na">willReturn</span><span class="o">(</span><span class="n">aResponse</span><span class="o">()</span>
        <span class="o">.</span><span class="na">withStatus</span><span class="o">(</span><span class="mi">200</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withBody</span><span class="o">(</span><span class="s">&quot;Original body&quot;</span><span class="o">)</span>
        <span class="o">.</span><span class="na">withTransformers</span><span class="o">(</span><span class="s">&quot;my-transformer&quot;</span><span class="o">,</span> <span class="s">&quot;other-transformer&quot;</span><span class="o">)));</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;request&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;method&quot;</span><span class="o">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="s2">&quot;url&quot;</span><span class="o">:</span> <span class="s2">&quot;/local-transform&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;response&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;status&quot;</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="s2">&quot;body&quot;</span><span class="o">:</span> <span class="s2">&quot;Original body&quot;</span><span class="p">,</span>
        <span class="s2">&quot;transformers&quot;</span><span class="o">:</span> <span class="p">[</span><span class="s2">&quot;my-transformer&quot;</span><span class="p">,</span> <span class="s2">&quot;other-transformer&quot;</span><span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The Java API also has a convenience method for adding transformers and parameters in one call:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">stubFor</span><span class="o">(</span><span class="n">get</span><span class="o">(</span><span class="n">urlEqualTo</span><span class="o">(</span><span class="s">&quot;/transform&quot;</span><span class="o">)).</span><span class="na">willReturn</span><span class="o">(</span>
        <span class="n">aResponse</span><span class="o">()</span>
                <span class="o">.</span><span class="na">withTransformer</span><span class="o">(</span><span class="s">&quot;body-transformer&quot;</span><span class="o">,</span> <span class="s">&quot;newValue&quot;</span><span class="o">,</span> <span class="mi">66</span><span class="o">)));</span>
</pre></div>
</div>
</div>
<div class="section" id="response-transformation">
<h3>Response transformation<a class="headerlink" href="#response-transformation" title="Permalink to this headline">¶</a></h3>
<p>A response transformer extension class is identical to <tt class="docutils literal"><span class="pre">ResponseDefinitionTransformer</span></tt> with the exception that it takes
a <tt class="docutils literal"><span class="pre">Response</span></tt> in its transform method&#8217;s parameter list and returns a <tt class="docutils literal"><span class="pre">Response</span></tt>.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">StubResponseTransformerWithParams</span> <span class="kd">extends</span> <span class="n">ResponseTransformer</span> <span class="o">{</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Response</span> <span class="nf">transform</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">Response</span> <span class="n">response</span><span class="o">,</span> <span class="n">FileSource</span> <span class="n">files</span><span class="o">,</span> <span class="n">Parameters</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="na">Builder</span><span class="o">.</span><span class="na">like</span><span class="o">(</span><span class="n">response</span><span class="o">)</span>
                    <span class="o">.</span><span class="na">but</span><span class="o">().</span><span class="na">body</span><span class="o">(</span><span class="n">parameters</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span>
                            <span class="o">+</span> <span class="n">parameters</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&quot;number&quot;</span><span class="o">)</span> <span class="o">+</span> <span class="s">&quot;, &quot;</span>
                            <span class="o">+</span> <span class="n">parameters</span><span class="o">.</span><span class="na">getBoolean</span><span class="o">(</span><span class="s">&quot;flag&quot;</span><span class="o">))</span>
                    <span class="o">.</span><span class="na">build</span><span class="o">();</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">name</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">&quot;stub-transformer-with-params&quot;</span><span class="o">;</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-request-matchers">
<h2>Custom Request Matchers<a class="headerlink" href="#custom-request-matchers" title="Permalink to this headline">¶</a></h2>
<p>If WireMock&#8217;s standard set of request matching strategies isn&#8217;t sufficient, you can register one or more
request matcher classes containing your own logic.</p>
<p>Custom matchers can be attached directly to stubs via the Java API when
using the local admin interface (by calling <tt class="docutils literal"><span class="pre">stubFor(...)</span></tt> on <tt class="docutils literal"><span class="pre">WireMockServer</span></tt> or <tt class="docutils literal"><span class="pre">WireMockRule</span></tt>). They can also be
added via the extension mechanism and used with individual stubs by referring to them by name as described above for
response transformers.</p>
<p>As with response transformers, per stub mapping parameters can be passed to matchers.</p>
<p>To add a matcher directly to a stub mapping:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">wireMockServer</span><span class="o">.</span><span class="na">stubFor</span><span class="o">(</span><span class="n">requestMatching</span><span class="o">(</span><span class="k">new</span> <span class="n">RequestMatcher</span><span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isMatchedBy</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">Parameters</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="na">getBody</span><span class="o">().</span><span class="na">length</span> <span class="o">&gt;</span> <span class="mi">2048</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}).</span><span class="na">willReturn</span><span class="o">(</span><span class="n">aResponse</span><span class="o">().</span><span class="na">withStatus</span><span class="o">(</span><span class="mi">422</span><span class="o">)));</span>
</pre></div>
</div>
<p>To create a matcher to be referred to by name, create a class extending <tt class="docutils literal"><span class="pre">RequestMatcher</span></tt> and register it as an extension
as per the instructions at the top of this page e.g.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">BodyLengthMatcher</span> <span class="kd">extends</span> <span class="n">RequestMatcher</span> <span class="o">{</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">String</span> <span class="nf">name</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">return</span> <span class="s">&quot;body-too-long&quot;</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isMatchedBy</span><span class="o">(</span><span class="n">Request</span> <span class="n">request</span><span class="o">,</span> <span class="n">Parameters</span> <span class="n">parameters</span><span class="o">)</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">maxLength</span> <span class="o">=</span> <span class="n">parameters</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&quot;maxLength&quot;</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">request</span><span class="o">.</span><span class="na">getBody</span><span class="o">().</span><span class="na">length</span> <span class="o">&gt;</span> <span class="n">maxLength</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
</pre></div>
</div>
<p>Then define a stub with it:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">stubFor</span><span class="o">(</span><span class="n">requestMatching</span><span class="o">(</span><span class="s">&quot;body-too-long&quot;</span><span class="o">,</span> <span class="n">Parameters</span><span class="o">.</span><span class="na">one</span><span class="o">(</span><span class="s">&quot;maxLemgth&quot;</span><span class="o">,</span> <span class="mi">2048</span><span class="o">))</span>
        <span class="o">.</span><span class="na">willReturn</span><span class="o">(</span><span class="n">aResponse</span><span class="o">().</span><span class="na">withStatus</span><span class="o">(</span><span class="mi">422</span><span class="o">)));</span>
</pre></div>
</div>
<p>or via JSON:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="p">{</span>
    <span class="s2">&quot;request&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;customMatcher&quot;</span> <span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;name&quot;</span> <span class="o">:</span> <span class="s2">&quot;body-too-long&quot;</span><span class="p">,</span>
            <span class="s2">&quot;parameters&quot;</span> <span class="o">:</span> <span class="p">{</span>
                <span class="s2">&quot;maxLemgth&quot;</span> <span class="o">:</span> <span class="mi">2048</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="s2">&quot;response&quot;</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;status&quot;</span> <span class="o">:</span> <span class="mi">422</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


            </div>
        </div>
        <hr/>
        <footer>
            &copy; Copyright 2014, <a href="http://www.tomakehurst.com/about">Tom Akehurst</a>.
            Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>
            1.2.2.
        </footer>
    </div>
</body>
</html>


